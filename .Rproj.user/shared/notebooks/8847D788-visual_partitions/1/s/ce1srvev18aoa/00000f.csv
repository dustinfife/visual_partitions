"0","n = 1200"
"0","x = rnorm(n)"
"0","z = rnorm(n)"
"0","w = rnorm(n)"
"0","y1 = .3*x + .3*z + .3*w + .5*x*z + rnorm(n, 0, .5)"
"0","y2 = .3*x + .3*z + .3*w + .5*x*w + rnorm(n, 0, .5)"
"0","y3 = .3*x + .3*z + .3*w + .7*x*z*w + rnorm(n, 0, .5)#+ .5*x*z + .5*x*w + .5*w*z + rnorm(n, 0, .5)"
"0","y4 = .3*x + .3*z + .3*w + .7*x*z*w + .5*x*z + .5*x*w + .5*w*z + rnorm(n, 0, .5)"
"0","d = data.frame(x, w, z, y1, y2, y3, y4)"
"0","a = marginal_plot("
"0","  flexplot(y1~x | z + w, data=d, method=""lm"", "
"0","                           labels=list(""x"" = c(""low"", ""medium"", ""high""),"
"0","                                       ""z"" = c(""low"", ""medium"", ""high"")"
"0","                                       )) + "
"0","    labs(x=""x"", y=""y"", title=""Interaction Between X and Z"") )"
"0","a"
